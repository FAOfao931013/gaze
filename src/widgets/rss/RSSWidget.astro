---
/**
 * RSS Widget Content Component
 * Renders RSS feed items with configurable styles
 * Container and header are handled by Widget.astro
 */

import type { WidgetProps } from '../../types/widget'
import { RSSDetailedList } from './RSSDetailedList'
import { RSSVerticalList } from './RSSVerticalList'
import type { RSSData, RSSWidgetConfig } from './types'

interface Props extends WidgetProps<RSSData> {
  config: RSSWidgetConfig
}

const { config, data } = Astro.props

// Configuration options with defaults
const style = config.style || 'vertical-list'
const collapseAfter = config.collapseAfter ?? 5
const singleLineTitles = config.singleLineTitles ?? false
const hideDate = config.hideDate ?? false
---

{data && (
  <>
    {style === 'vertical-list' ? (
      <RSSVerticalList
        items={data.items}
        collapseAfter={collapseAfter}
        singleLineTitles={singleLineTitles}
        hideDate={hideDate}
        client:load
      />
    ) : (
      <RSSDetailedList
        items={data.items}
        collapseAfter={collapseAfter}
        hideDate={hideDate}
        client:load
      />
    )}
  </>
)}
